<div>
    <div class="text-left">
        <ul class="list-group list-group-flush">
            <li class="list-group-item"><span class="font-monospace">id:</span> <span id="network_id">{{network.id}}</span></li>
            <li class="list-group-item"><span class="font-monospace">network:</span> <span class="fw-bold">{{network.network}}</span></li>
            <li class="list-group-item"><span class="font-monospace">vlan:</span> {{network.vlan}}</li>
            <li class="list-group-item"><span class="font-monospace">description:</span> {{network.description}}</li>
            <li class="list-group-item"><span class="font-monospace">available:</span> {%if overflow_prefix %}<span class="fw-bold">+</span>{% endif %}{{network.available}}</li>
            <li class="list-group-item"><span class="font-monospace">used:</span> {{network.used}}</li>
            <li class="list-group-item"><span class="font-monospace">free:</span> {% if overflow_prefix %}<span class="fw-bold">+</span>{% endif %}{{network.free}}</li>
          </ul>
    </div>
    <section class="grid-devices">
        {% if devices | length > 0 %}
            {% for device in devices %}
                <article style="flex-grow: 1;" class="d-flex flex-column align-items-center justify-content-center p-2 box-border">
                    <div class="d-flex align-items-center justify-content-between">
                        <a type="button" class="icon-link me-1 link-hover link-danger" data-ipam-ping="{{device.ip | replace(from='.', to='_')}}">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="bi">
                                <path fill-rule="evenodd" d="M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z" clip-rule="evenodd" />
                              </svg>                              
                        </a>
                        <p class="text-weight-bold m-0">{{ device.ip }}</p>
                    </div>
                    <div data-bs-toggle="popover" data-bs-title="<p class='fw-bold text-center'>{{device.ip}}</p>" data-bs-content="
                        <div class='lh-sm'>
                            <p><span class='font-monospace'>Status:</span> <span id='data_status' class='fw-bold {% if device.status == 'Online' %}text-online{% elif device.status == 'Offline' %}text-danger{% endif %}'>{{device.status}}</span></p>
                            <p><span class='font-monospace'>Description:</span> <span class='fw-bold'>{{device.description | default(value='empry')}}</span></p>
                            <p><span class='font-monospace'>Rack:</span> <span class='fw-bold'>{{device.rack | default(value='empry')}}</span></p>
                            <p><span class='font-monospace'>Room:</span> <span class='fw-bold'>{{device.room | default(value='empry')}}</span></p>
                            <p><span class='font-monospace'>Username:</span> {% set user = device.credential.username | default(value='Unknown') %}{% if user | length > 0 %}<span class='fw-bold'>{{user}}</span>{% else %}<span class='fw-bold fst-italic'>empty</span>{% endif %}</span></p>
                            <p><span class='font-monospace'>Password:</span> {% set pass = device.credential.password | default(value='Unknown') %}{% if pass | length > 0 %}<span class='fw-bold'>{{pass}}</span>{% else %}<span class='fw-bold fst-italic text-danger'>empty</span>{% endif %}</span></p>
                            {% if role == 'Admin' %}
                                <a role='button' class='btn btn-primary btn-sm' data-bs-toggle='modal' data-bs-target='#staticBackdrop'>Edit</a>
                            {% if device.status == 'Unknown' %}
                                <a role='button' class='btn btn-light btn-sm ms-2' id='{{device.ip | replace(from='.', to='_')}}'>Reserve</a>{% endif %}
                            {% endif %}
                        </div>
                        " role="button">

                        <svg xmlns="http://www.w3.org/2000/svg" id="svg_{{device.ip | replace(from='.', to='_')}}" width="75" height="75" viewBox="0 0 24 24" style="fill: rgba(0, 0, 0, 1);transform: ;msFilter:;" class="{% if device.status == 'Reserved' %}svg-reserve{% elif device.status == 'Online' %}svg-online{% elif device.status == 'Offline' %}svg-offline{% else %}svg-unknown{% endif %}"><path d="M20 3H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM4 9V5h16v4zm16 4H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zM4 19v-4h16v4z"></path><path d="M17 6h2v2h-2zm-3 0h2v2h-2zm3 10h2v2h-2zm-3 0h2v2h-2z"></path></svg>
                    </div>
                </article>
                {% endfor %}
            <script src="/static/bootstrap.min.js"></script>
            <script src="/static/device.exist.js" type="module"></script>
        {% else %}
                <div>
                    <button type="button" class="btn btn-primary" id="new_device_new">New</button>
                    {% if ipv4 %}
                        <button type="button" class="btn btn-warning" id="new_device_create_all_empty">Create all</button>
                    {% endif %}
                </div>
                <script src="/static/device.js" type="module"></script>
        {% endif %}
    </section>

</div>  

